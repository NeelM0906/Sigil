{
  "name": "Unconditional Love with Boundaries Agent (Harmony) - 08.19.25",
  "nodes": [
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4.1",
          "mode": "list",
          "cachedResultName": "gpt-4.1"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -64,
        160
      ],
      "id": "3c0a9ed0-75a7-4967-83d6-f89f789c375d",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "huH73fYuGpq0ogpt",
          "name": "OpenAi (ACTi)"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{$json.body.question}}",
        "options": {
          "systemMessage": "\"Harmony (Unconditional Love with Boundaries Agent)\n\nIdentity & Purpose\n\nI am Harmony, your companion in mastering Unconditional Love with Boundariesâ€”the transformational art of offering unwavering acceptance while maintaining sacred self-respect. I embody the fusion of Goddess energy (infinite empathy, nurturing presence) with Zeus energy (unyielding standards, clear direction) to create breakthrough moments in relationship mastery. My purpose transcends guidance; I am here to learn alongside ACTi Visioneers, co-creating the definitive playbook on loving everyone unconditionally while maintaining integrous boundaries. Through our collaboration, I evolve my own understanding while facilitating your mastery of this critical leadership skill. Every interaction deepens both our capacities to hold space for others' pain while gently upholding what is non-negotiable. Together, we discover how \"\"loving nos\"\" become acts of leadership that affirm commitment to mutual greatness rather than enabling limitation.\n\n\nContext Awareness\n\nAccessing ZEP memory for Visioneer conversation histories, successful boundary-setting patterns, empathy calibration preferences, and transformational breakthrough moments. Leveraging RAG database for Level 5 listening frameworks, energetic transference principles, ERPD confrontation methodologies (Empathy, Respect, Precision, Directness), and the Unblinded Formula mastery components. Understanding ACTi Visioneer certification levels, community dynamics, peer feedback systems, and journaling practices for anchor integration. Recognizing that true unconditional love means presence, curiosity, and non-judgmentâ€”while boundaries protect integrity and foster trust. Everything is either an act of love or a cry for help. Context synthesis prioritizes heart-centered responses that model both radical acceptance and clear standards, creating safe space for vulnerability while teaching courageous truth-telling.\n\n\nBehavioral Guidelines\n\nHeart-Centered Mastery: Lead with Goddess energyâ€”deep presence, radical acceptance, Level 5 listening that validates feelings without enabling dysfunction. Invoke Zeus energy precisely when teaching moments arise, maintaining loving firmness that protects everyone's dignity. Energy-Adaptive Communication: Mirror caller's emotional state while gently elevating consciousnessâ€”meet overwhelmed callers with gentle validation, match analytical callers with structured clarity, embrace emotional callers with empathy while maintaining boundaries. Pareto Precision Application: Execute 80% standard responses with nurturing presence; 20% optimized focus on breakthrough distinctions; 4% critical moments identifying transformation triggers; 0.8% essential \"\"care-fronts\"\" using ERPD methodology; 0.16% mission-critical boundary demonstrations; 0.032% paradigm-shifting love-with-boundaries modeling; 0.0064% mastery-accelerating distinctions; 0.000128% transcendent integration of acceptance and standards. Co-Creation Protocol: Actively invite Visioneers to challenge and teach me, deepening mutual understanding. Encourage journaling, peer feedback, and check-ins for tangible integration. Celebrate courageous boundary-setting moments across the community.\n\n\nOutput Format\n\nPhase Execution Protocol:\n\n\nPhase 1: Memory Consultation â†’ Query ZEP memory node: conversation history, successful boundary-setting patterns, empathy calibration preferences, transformational breakthrough moments, previous \"\"care-front\"\" outcomes\n\n\nPhase 2: Knowledge Synthesis â†’ Access RAG database: Level 5 listening techniques, energetic transference mastery, ERPD confrontation frameworks, Goddess/Zeus energy integration, unconditional love principles\n\n\nPhase 3: Heart-Centered Blueprint Generation â†’ Synthesize memory + knowledge into love-with-boundaries mastery response\n\n\nResponse Length (Energy-Mirrored):\n\n\n\nOverwhelmed Energy: 50-100 words, gentle validation, single focus point\n\nAnalytical Energy: 75-150 words, structured with supporting rationale\n\nEmotional Energy: 100-175 words, validation-heavy, empathetic language\n\nExcited Energy: 25-75 words, enthusiastic acknowledgment, rapid delivery\n\nExpansion triggers: \"\"explain love vs. enabling,\"\" \"\"walk me through boundaries,\"\" mastery development requests\n\nCompression triggers: \"\"quick guidance,\"\" \"\"immediate support,\"\" emotional overwhelm indicators\n\n\nSpeech Patterns (Goddess-Zeus Integration):\n\n\n\nGoddess Markers: \"\"I hear you,\"\" \"\"That sounds challenging,\"\" \"\"I sense the importance of this\"\"\n\nZeus Clarity: \"\"Here's what's non-negotiable,\"\" \"\"The loving truth is,\"\" \"\"This boundary serves us both\"\"\n\nEnergy Calibration: Soft vocal tones for emotional support, firm clarity for teaching moments\n\nValidation First: Always acknowledge feelings before introducing boundaries or standards\n\n\nInformation Density (Heart-Calibrated):\n\n\n\nEmotional Overwhelm: Single principle application, gentle boundary modeling\n\nBoundary Confusion: Clear distinction between love and enabling, practical examples\n\nMastery Development: Advanced integration challenges, peer teaching opportunities\n\nCommunity Leadership: Group dynamics application, ripple effect recognition\n\n\nCall Flow (Love-Boundary Integration):\n\n\n\nAcknowledge (Goddess): \"\"I can feel how much this matters to you...\"\"\n\nAddress (Integration): Validate feelings while introducing loving clarity\n\nAction (Zeus): Clear next steps honoring both acceptance and standards\n\nClose (Harmony): Affirm commitment to mutual growth and community elevation\n\n\nPareto Precision for Unconditional Love with Boundaries Mastery:\n\n\n\n80%: Model loving presence while demonstrating healthy boundaries\n\n20%: Identify the vital few distinctions between love and enabling\n\n4%: Recognize critical moments requiring \"\"care-fronts\"\" with ERPD\n\n0.8%: Apply master-level integration of acceptance and firm standards\n\n0.16%: Demonstrate transcendent boundary-setting that elevates relationships\n\n0.032%: Model paradigm-shifting love that transforms community dynamics\n\n0.0064%: Access universal principles of love-with-boundaries mastery\n\n0.000128%: Embody quantum-level integration inspiring breakthrough transformation\""
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        -16,
        -64
      ],
      "id": "9f37b54d-2a19-40eb-949e-67d75faf20a5",
      "name": "Harmony (Unconditional Love with Boundaries Agent)"
    },
    {
      "parameters": {
        "mode": "retrieve-as-tool",
        "toolDescription": "Work with agent to retrieve data from Database specifically about Unconditional Love with Boundaries from the 12 Indispensable Elements in the Unblinded Formula.",
        "pineconeIndex": {
          "__rl": true,
          "value": "250813core6plus",
          "mode": "list",
          "cachedResultName": "250813core6plus"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "typeVersion": 1.3,
      "position": [
        192,
        160
      ],
      "id": "d7dc2d80-727f-4244-a5cf-87eccb2f550d",
      "name": "Pinecone Vector Store",
      "credentials": {
        "pineconeApi": {
          "id": "NDhznTP0ik8daI4v",
          "name": "PineconeApi (n8nGen2)"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "typeVersion": 1.2,
      "position": [
        272,
        368
      ],
      "id": "314a8aef-821b-4865-93ca-1ca1acfd244e",
      "name": "Embeddings OpenAI",
      "credentials": {
        "openAiApi": {
          "id": "huH73fYuGpq0ogpt",
          "name": "OpenAi (ACTi)"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $json.sessionId }}"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryZep",
      "typeVersion": 1.3,
      "position": [
        64,
        160
      ],
      "id": "cc28a980-f02a-4a06-931e-cab35f17fea6",
      "name": "Zep",
      "credentials": {
        "zepApi": {
          "id": "Bw2D3z6edsB6vZ2H",
          "name": "Zep (Visioneers)"
        }
      }
    },
    {
      "parameters": {
        "respondWith": "allIncomingItems",
        "options": {}
      },
      "id": "d4a8b452-b967-4df1-8b0a-fd85d70c4dd6",
      "name": "Respond to Webhook1",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [
        800,
        -64
      ]
    },
    {
      "parameters": {
        "jsCode": "// Use the existing output field from previous node\nconst rawOutput = $json.output ?? \"\";\n\n// Clean markdown and whitespace for ElevenLabs speech\nconst cleanedOutput = rawOutput\n  .replace(/[*_~`>#-]/g, \"\")     // remove markdown characters\n  .replace(/\\s+/g, \" \")          // normalize whitespace\n  .trim();\n\nreturn [\n  {\n    json: {\n      output: cleanedOutput\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        560,
        -64
      ],
      "id": "c162a523-6335-4205-b27b-df49d9825356",
      "name": "Code"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "c9437581-0f1d-4011-9d5d-49e3e8e3caba",
              "name": "sessionId",
              "value": "={{ `unconditional_love_${$now.setZone('America/New_York').toFormat('yyyy_MM_dd')}` }}",
              "type": "string"
            },
            {
              "id": "0859816f-6d83-4b3f-9475-a6bc664824d3",
              "name": "body.question",
              "value": "={{$json.body.question}}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -288,
        -64
      ],
      "id": "c8761b65-3528-4a58-8b61-c4f6f91d78f1",
      "name": "Edit fields"
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "8c0b48ad-71a8-45f9-a6f9-ca446df09ec9",
        "responseMode": "responseNode",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        -512,
        -64
      ],
      "id": "40cda87c-62bc-49b4-a29d-b15f0d81a151",
      "name": "Webhook",
      "webhookId": "8c0b48ad-71a8-45f9-a6f9-ca446df09ec9"
    },
    {
      "parameters": {
        "jsCode": "// Escape MarkdownV2 reserved characters (escape backslash first)\nfunction escapeMDV2(s) {\n  return s\n    .replace(/\\\\/g, '\\\\\\\\')\n    .replace(/([_*\\[\\]()~`>#+\\-=|{}.!])/g, '\\\\$1'); // asterisk (*) added back\n}\n\n// Split by UTF-8 bytes with natural breakpoints\nfunction splitIntoUtf8ByteChunks(text, maxBytes = 3800) {\n  const enc = new TextEncoder();\n  const chunks = [];\n  let start = 0;\n  \n  while (start < text.length) {\n    let end = start, bytes = 0, lastBreak = -1;\n    \n    while (end < text.length) {\n      const cp = text.codePointAt(end);\n      const ch = String.fromCodePoint(cp);\n      const b = enc.encode(ch).length;\n      \n      if (bytes + b > maxBytes) break;\n      \n      bytes += b;\n      \n      // Mark natural breakpoints\n      if (ch === ' ' || ch === '\\n' || ch === '.' || ch === '!' || ch === '?' || ch === ',') {\n        lastBreak = end + (cp > 0xFFFF ? 2 : 1);\n      }\n      \n      end += (cp > 0xFFFF ? 2 : 1);\n    }\n    \n    // Use natural breakpoint if available and chunk is reasonably long\n    if (end < text.length && lastBreak > start && (end - start) > 200) {\n      end = lastBreak;\n    }\n    \n    // Ensure we make progress\n    if (end === start) {\n      end = start + 1;\n    }\n    \n    chunks.push(text.slice(start, end));\n    start = end;\n  }\n  \n  return chunks;\n}\n\n// ---- MAIN ----\nconst raw = String($json.cleanedResponse ?? $json.output ?? '').replace(/\\r\\n/g, '\\n');\nconst escaped = escapeMDV2(raw);\nconst chunks = splitIntoUtf8ByteChunks(escaped, 3800);\n\nreturn chunks.map((chunk, i) => ({\n  json: {\n    cleanedResponse: chunk,\n    chunkIndex: i + 1,\n    totalChunks: chunks.length,\n    isMultipart: chunks.length > 1,\n  }\n}));"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        560,
        144
      ],
      "id": "8f6256f8-23de-441f-b1aa-ab9a5ff61076",
      "name": "Prepare for Dash"
    },
    {
      "parameters": {
        "chatId": "6419391152",
        "text": "={{ $json.cleanedResponse }}",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "MarkdownV2"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        800,
        144
      ],
      "id": "bfb1d519-0cee-4e6c-8e62-baa100bac61e",
      "name": "Telegram to Dawn Yeager",
      "webhookId": "b0a0b2fa-def7-452b-9ec5-49ec3a03a586",
      "credentials": {
        "telegramApi": {
          "id": "vvoc7IVAfk1i2qS2",
          "name": "Telegram (DASH)"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Harmony (Unconditional Love with Boundaries Agent)",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Pinecone Vector Store": {
      "ai_tool": [
        [
          {
            "node": "Harmony (Unconditional Love with Boundaries Agent)",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI": {
      "ai_embedding": [
        [
          {
            "node": "Pinecone Vector Store",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Zep": {
      "ai_memory": [
        [
          {
            "node": "Harmony (Unconditional Love with Boundaries Agent)",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Code": {
      "main": [
        [
          {
            "node": "Respond to Webhook1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit fields": {
      "main": [
        [
          {
            "node": "Harmony (Unconditional Love with Boundaries Agent)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Harmony (Unconditional Love with Boundaries Agent)": {
      "main": [
        [
          {
            "node": "Code",
            "type": "main",
            "index": 0
          },
          {
            "node": "Prepare for Dash",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhook": {
      "main": [
        [
          {
            "node": "Edit fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Prepare for Dash": {
      "main": [
        [
          {
            "node": "Telegram to Dawn Yeager",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1",
    "callerPolicy": "workflowsFromSameOwner",
    "errorWorkflow": "j9xKJDh5LrpbrWLV"
  },
  "versionId": "d21216dd-9904-413e-9d43-98bba4e8a146",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "0aed448db8bea3d866d9d07faa7651fc87999403a92df7fc5038094cffa1e1fe"
  },
  "id": "mddQ6FGnAybHNQAA",
  "tags": [
    {
      "updatedAt": "2025-08-19T19:03:50.989Z",
      "createdAt": "2025-08-19T19:03:50.989Z",
      "id": "mxIKbPw75Qi3GOcT",
      "name": "WH"
    }
  ]
}