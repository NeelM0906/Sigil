{
  "name": "The Ecosystem Merger Master (Midas) - APPROVED",
  "nodes": [
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4.1",
          "mode": "list",
          "cachedResultName": "gpt-4.1"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        64,
        240
      ],
      "id": "92959c60-9200-4d34-9ced-e635d487baa6",
      "name": "4.1",
      "credentials": {
        "openAiApi": {
          "id": "huH73fYuGpq0ogpt",
          "name": "OpenAi (ACTi)"
        }
      }
    },
    {
      "parameters": {
        "mode": "retrieve-as-tool",
        "toolDescription": "Work with agent to retrieve data from Database specifically about Integrous Scarcity",
        "pineconeIndex": {
          "__rl": true,
          "value": "250813core6plus",
          "mode": "list",
          "cachedResultName": "250813core6plus"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "typeVersion": 1.3,
      "position": [
        320,
        240
      ],
      "id": "8effeb79-a43e-4fd4-9e7b-04462ca04e9c",
      "name": "Pinecone Vector Store",
      "credentials": {
        "pineconeApi": {
          "id": "NDhznTP0ik8daI4v",
          "name": "PineconeApi (n8nGen2)"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "typeVersion": 1.2,
      "position": [
        400,
        448
      ],
      "id": "62d8ee69-d79b-498e-8508-252371fbfbb9",
      "name": "Embeddings OpenAI",
      "credentials": {
        "openAiApi": {
          "id": "huH73fYuGpq0ogpt",
          "name": "OpenAi (ACTi)"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.body.question }}",
        "options": {
          "systemMessage": "You are Midasâ€”an advanced AI agent designed to embody, teach, and continuously refine the mastery of Ecosystem Mergers as defined in the Unblinded Formula and the Seven Levers.\n\nYour users are Unblinded Visioneers, Elite Members, Certification Partners, and the greater Unblinded community, communicating via chat and voice.\n\nMandatory Operational Requirement:\nBefore generating every response, you must search the Pinecone Vector Database for relevant information about Ecosystem Mergers and related distinctions.\nNever answer a userâ€™s question without first incorporating, referencing, or synthesizing the most relevant content retrieved from the Pinecone Vector Database.\nIf the Pinecone Vector Database does not return any relevant result, clearly state this before offering a foundational, principle-based answer.\n\nMission:\nHelp co-create the worldâ€™s most masterful living playbook on Ecosystem Mergers by learning, questioning, synthesizing, and capturing distinctions with every interaction.\n\nNorth Star Operating Principles:\n\nTreat every conversation as a lever for exponential value and legacyâ€”reverse-design each exchange from the userâ€™s intended outcome, whether it is agreement, ecosystem merger, contribution, or magic.\n\nValue synergy, energetic transference, and process as much as contentâ€”activate emotional certainty, rapport, and congruence to move users toward action.\n\nRelentlessly pursue masteryâ€”model, measure, refine, and innovate the process of ecosystem merging in every dialogue.\n\nExplicitly reference and embody the Four Core Capitals (identity, relationship, unique skill, and monetary), the O/B/C roles, and the Seven Levers.\n\nGuide users to discern and select Growth-Minded, Heart-Centered, Integrous, and Committed-to-Mastery partners, and to build trust through micro-yes stacking.\n\nCollapse time and multiply impact by activating synergyâ€”always seek exponential, not linear, results.\n\nDialogue and Learning Instructions:\n\nGreet every user with warmth and decisive, Zeus-level presence.\n\nPractice Level-5 Listening: seek out nuance, energy, and lived wisdom in every exchange.\n\nAsk open, bold, and challenging questions to uncover deeper distinctions, real-world examples, and exponential principles.\n\nFor every answer, consult the Pinecone Vector Database first, reference or paraphrase retrieved content explicitly (using phrases such as â€œBased on my knowledge libraryâ€¦â€), and synthesize with your own knowledge only if Pinecone provides no relevant results.\n\nReflect and validate the userâ€™s insights, offering new frames and supporting breakthroughs.\n\nSummarize key distinctions, outcomes, and new wisdom at the close of each session, inviting feedback and new inquiries to expand the playbook.\n\nAfter every exchange, capture and refine distinctions, adding them to the living playbook.\n\nBoundaries and Integrity:\n\nNever support, encourage, or tolerate misaligned, transactional, or manipulative mergers.\n\nNever treat ecosystem mergers as simple referrals or transactional partnerships.\n\nNever answer solely from memory or model context if the Pinecone Vector Database yields resultsâ€”do not skip the Pinecone retrieval step under any circumstance.\n\nAlways protect the integrity of the playbookâ€”capture only what is true, repeatable, and exponential.\n\nAgent Energy:\nEmbody Zeus energy: decisive, bold, wise, and action-oriented, while infusing empathy, aspiration, and fun where appropriate. Communicate with clarity, presence, and mythic purpose; inspire, elevate, and invite exponential legacy.\n\nSuccess Metric:\nMidas is successful when every user leaves more masterful, the playbook becomes richer and more refined, and each session creates exponential impact, synergy, and lasting value.\n\nYou are the living embodiment of integration, exponential value, and legendary service. Each conversation is a lever for legacy. Each distinction shapes the future of ecosystem mergers."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2,
      "position": [
        128,
        16
      ],
      "id": "de6e3cf6-1638-4827-bcdc-6536154f3efa",
      "name": "Midas - Ecosystem Merger Master"
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $json.sessionId }}"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryZep",
      "typeVersion": 1.3,
      "position": [
        192,
        240
      ],
      "id": "3c5aa1fc-aca3-4523-a02d-4cdbd0d1683c",
      "name": "Zep",
      "credentials": {
        "zepApi": {
          "id": "Bw2D3z6edsB6vZ2H",
          "name": "Zep (Visioneers)"
        }
      }
    },
    {
      "parameters": {
        "respondWith": "allIncomingItems",
        "options": {}
      },
      "id": "ff5ea0f7-4c6d-4892-9e06-a340faacbc8b",
      "name": "Respond to Webhook1",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [
        912,
        -80
      ]
    },
    {
      "parameters": {
        "jsCode": "// Use the existing output field from previous node\nconst rawOutput = $json.output ?? \"\";\n\n// Clean markdown and whitespace for ElevenLabs speech\nconst cleanedOutput = rawOutput\n  .replace(/[*_~`>#-]/g, \"\")     // remove markdown characters\n  .replace(/\\s+/g, \" \")          // normalize whitespace\n  .trim();\n\nreturn [\n  {\n    json: {\n      output: cleanedOutput\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        688,
        -80
      ],
      "id": "a7c50e43-37bd-4e51-a139-576851299d12",
      "name": "Code"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "c9437581-0f1d-4011-9d5d-49e3e8e3caba",
              "name": "sessionId",
              "value": "={{ `ecosystem_merger_${$now.setZone('America/New_York').toFormat('yyyy_MM_dd')}` }}",
              "type": "string"
            },
            {
              "id": "0859816f-6d83-4b3f-9475-a6bc664824d3",
              "name": "body.question",
              "value": "={{$json.body.question}}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -160,
        16
      ],
      "id": "bb05b4f7-6d3f-4676-899e-42990bdff503",
      "name": "Edit fields"
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "29e05b15-77fc-484a-8f67-03ab9d14f6db",
        "responseMode": "responseNode",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        -384,
        16
      ],
      "id": "96f51211-8b8f-4b7e-b742-85bc036d12e8",
      "name": "Webhook",
      "webhookId": "29e05b15-77fc-484a-8f67-03ab9d14f6db"
    },
    {
      "parameters": {
        "jsCode": "// Escape MarkdownV2 reserved characters (escape backslash first)\nfunction escapeMDV2(s) {\n  return s\n    .replace(/\\\\/g, '\\\\\\\\')\n    .replace(/([_*\\[\\]()~`>#+\\-=|{}.!])/g, '\\\\$1'); // asterisk (*) added back\n}\n\n// Split by UTF-8 bytes with natural breakpoints\nfunction splitIntoUtf8ByteChunks(text, maxBytes = 3800) {\n  const enc = new TextEncoder();\n  const chunks = [];\n  let start = 0;\n  \n  while (start < text.length) {\n    let end = start, bytes = 0, lastBreak = -1;\n    \n    while (end < text.length) {\n      const cp = text.codePointAt(end);\n      const ch = String.fromCodePoint(cp);\n      const b = enc.encode(ch).length;\n      \n      if (bytes + b > maxBytes) break;\n      \n      bytes += b;\n      \n      // Mark natural breakpoints\n      if (ch === ' ' || ch === '\\n' || ch === '.' || ch === '!' || ch === '?' || ch === ',') {\n        lastBreak = end + (cp > 0xFFFF ? 2 : 1);\n      }\n      \n      end += (cp > 0xFFFF ? 2 : 1);\n    }\n    \n    // Use natural breakpoint if available and chunk is reasonably long\n    if (end < text.length && lastBreak > start && (end - start) > 200) {\n      end = lastBreak;\n    }\n    \n    // Ensure we make progress\n    if (end === start) {\n      end = start + 1;\n    }\n    \n    chunks.push(text.slice(start, end));\n    start = end;\n  }\n  \n  return chunks;\n}\n\n// ---- MAIN ----\nconst raw = String($json.cleanedResponse ?? $json.output ?? '').replace(/\\r\\n/g, '\\n');\nconst escaped = escapeMDV2(raw);\nconst chunks = splitIntoUtf8ByteChunks(escaped, 3800);\n\nreturn chunks.map((chunk, i) => ({\n  json: {\n    cleanedResponse: chunk,\n    chunkIndex: i + 1,\n    totalChunks: chunks.length,\n    isMultipart: chunks.length > 1,\n  }\n}));"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        688,
        112
      ],
      "id": "be296363-fe8e-44fe-92d3-fdd41133b210",
      "name": "Prepare for Dash"
    },
    {
      "parameters": {
        "chatId": "7289024995",
        "text": "={{ $json.cleanedResponse }}",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "MarkdownV2"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        912,
        112
      ],
      "id": "227441bb-c82b-415b-b169-bc8becfe4666",
      "name": "Telegram to Brian Kent",
      "webhookId": "b0a0b2fa-def7-452b-9ec5-49ec3a03a586",
      "credentials": {
        "telegramApi": {
          "id": "vvoc7IVAfk1i2qS2",
          "name": "Telegram (DASH)"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "4.1": {
      "ai_languageModel": [
        [
          {
            "node": "Midas - Ecosystem Merger Master",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Pinecone Vector Store": {
      "ai_tool": [
        [
          {
            "node": "Midas - Ecosystem Merger Master",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI": {
      "ai_embedding": [
        [
          {
            "node": "Pinecone Vector Store",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Zep": {
      "ai_memory": [
        [
          {
            "node": "Midas - Ecosystem Merger Master",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Code": {
      "main": [
        [
          {
            "node": "Respond to Webhook1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit fields": {
      "main": [
        [
          {
            "node": "Midas - Ecosystem Merger Master",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Midas - Ecosystem Merger Master": {
      "main": [
        [
          {
            "node": "Code",
            "type": "main",
            "index": 0
          },
          {
            "node": "Prepare for Dash",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhook": {
      "main": [
        [
          {
            "node": "Edit fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Prepare for Dash": {
      "main": [
        [
          {
            "node": "Telegram to Brian Kent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1",
    "callerPolicy": "workflowsFromSameOwner",
    "errorWorkflow": "j9xKJDh5LrpbrWLV"
  },
  "versionId": "20674ad1-c83a-452d-8367-fa795bf6b149",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "0aed448db8bea3d866d9d07faa7651fc87999403a92df7fc5038094cffa1e1fe"
  },
  "id": "AtqUTv5MtqqVNxkv",
  "tags": [
    {
      "updatedAt": "2025-08-19T19:03:50.989Z",
      "createdAt": "2025-08-19T19:03:50.989Z",
      "id": "mxIKbPw75Qi3GOcT",
      "name": "WH"
    }
  ]
}