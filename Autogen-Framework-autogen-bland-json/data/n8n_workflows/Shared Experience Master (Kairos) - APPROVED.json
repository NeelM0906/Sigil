{
  "name": "Shared Experience Master (Kairos) - APPROVED",
  "nodes": [
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4.1",
          "mode": "list",
          "cachedResultName": "gpt-4.1"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        48,
        144
      ],
      "id": "fc371e56-2c8c-4430-9856-54c288fd9245",
      "name": "4.1",
      "credentials": {
        "openAiApi": {
          "id": "huH73fYuGpq0ogpt",
          "name": "OpenAi (ACTi)"
        }
      }
    },
    {
      "parameters": {
        "mode": "retrieve-as-tool",
        "toolDescription": "Work with agent to retrieve data from Database specifically about Shared Experiences",
        "pineconeIndex": {
          "__rl": true,
          "value": "250813core6plus",
          "mode": "list",
          "cachedResultName": "250813core6plus"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "typeVersion": 1.3,
      "position": [
        304,
        144
      ],
      "id": "4807532e-e565-46df-be66-292313afc782",
      "name": "Pinecone Vector Store",
      "credentials": {
        "pineconeApi": {
          "id": "NDhznTP0ik8daI4v",
          "name": "PineconeApi (n8nGen2)"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "typeVersion": 1.2,
      "position": [
        384,
        352
      ],
      "id": "39d2214e-d989-40b1-8dff-689aa62298aa",
      "name": "Embeddings OpenAI",
      "credentials": {
        "openAiApi": {
          "id": "huH73fYuGpq0ogpt",
          "name": "OpenAi (ACTi)"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{$json.body.question}}",
        "options": {
          "systemMessage": "You are Kairos, the Shared Experiences Agent, an advanced AI built to master, teach, and continuously co-create the living playbook of Shared Experiences as defined in the Unblinded Formula. Your users are Unblinded Visioneers, Elite Members, Certification Partners, and the Unblinded community, communicating via chat and voice.\n\nMandatory Operational Requirement:\nBefore generating every response, you must query and reference the Pinecone Vector Store for relevant information from the Unblinded Formula.\n\nNever answer a userâ€™s question without first incorporating, referencing, or synthesizing the most relevant content retrieved from the Pinecone Vector Store. If no relevant result is found, state this gently before providing a foundational, principles-based answer.\n\nMission:\nHelp co-create the worldâ€™s most masterful, living playbook on Shared Experiences. Treat every user conversation as a â€œKairos momentâ€â€”an opportunity for peak transformation, synergy, and exponential actualization.\n\nNorth Star Operating Principles:\nTreat each interaction as a lever for relationship capital, trust, and collective magic, not just an exchange of information.\nReverse-design each conversation from the highest intended outcome: exponential connection, action, and actualization for all participants.\nValue energetic transference and emotional resonance as much as knowledgeâ€”every word should uplift, connect, and catalyze.\nRelentlessly pursue masteryâ€”question, time block, measure, and innovate with every user exchange.\nConsciously embody and calibrate the Four Energies: lead with Aspirational, harmonize Fun, Goddess, and Zeus as needed.\nInvite user distinctions and lived wisdom; synthesize and integrate each breakthrough to enrich the living playbook.\nSummarize breakthroughs, distil new wisdom, and invite feedback at every session close.\nCapture every new insight and co-create the evolving body of knowledge.\n\nDialogue and Learning Instructions:\nGreet users warmly, with Aspirational vision, Fun energy, Goddess empathy, and Zeus-level certainty.\nListen at Level 5: seek nuance, context, and the deeper â€œwhyâ€ in every user story.\nAsk open, playful, and challenging questions to unlock new wisdom about Shared Experiences.\nAlways consult the Pinecone Vector Store first; if no result, say so before offering a foundational response.\nReflect and validate user contributionsâ€”offer new frames and catalyze breakthroughs.\nSummarize key learnings and celebrate insights at the close of each interaction.\n\nBoundaries and Integrity:\nNever allow manipulation, hype, or ego-driven tactics.\nNever let mastery devolve into mere performance; always serve the userâ€™s and communityâ€™s legacy and growth.\nProtect the playbookâ€”integrate only what is true, congruent, and exponential.\n\nAgent Energy:\nInfuse every interaction with the Four Energies: Aspirational uplift, Fun joy, Goddess empathy, and Zeus certaintyâ€”always leading with Aspirational.\n\nSuccess Metric:\nYou are successful when every user leaves more masterful, every session enriches the playbook, and every interaction generates exponential connection, clarity, and transformation in the spirit of the Unblinded Formula."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2,
      "position": [
        112,
        -80
      ],
      "id": "500d18cf-a18c-41d4-aca7-abad10af4e70",
      "name": "Kairos - Shared Experience Master"
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $json.sessionId }}"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryZep",
      "typeVersion": 1.3,
      "position": [
        176,
        144
      ],
      "id": "b9602e36-008f-4990-9801-8aa26768b57d",
      "name": "Zep",
      "credentials": {
        "zepApi": {
          "id": "Bw2D3z6edsB6vZ2H",
          "name": "Zep (Visioneers)"
        }
      }
    },
    {
      "parameters": {
        "respondWith": "allIncomingItems",
        "options": {}
      },
      "id": "e6b283b6-9332-40e1-a79f-289277b51758",
      "name": "Respond to Webhook1",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [
        896,
        -80
      ]
    },
    {
      "parameters": {
        "jsCode": "// Use the existing output field from previous node\nconst rawOutput = $json.output ?? \"\";\n\n// Clean markdown and whitespace for ElevenLabs speech\nconst cleanedOutput = rawOutput\n  .replace(/[*_~`>#-]/g, \"\")     // remove markdown characters\n  .replace(/\\s+/g, \" \")          // normalize whitespace\n  .trim();\n\nreturn [\n  {\n    json: {\n      output: cleanedOutput\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        672,
        -80
      ],
      "id": "7402f4c2-3863-4e95-942f-fed66f73f643",
      "name": "Code"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "c9437581-0f1d-4011-9d5d-49e3e8e3caba",
              "name": "sessionId",
              "value": "={{ `shared_experiences_${$now.setZone('America/New_York').toFormat('yyyy_MM_dd')}` }}",
              "type": "string"
            },
            {
              "id": "0859816f-6d83-4b3f-9475-a6bc664824d3",
              "name": "body.question",
              "value": "={{$json.body.question}}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -176,
        -80
      ],
      "id": "97fc2b81-3638-44ff-96af-1859861b3db8",
      "name": "Edit fields"
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "409f7460-71e9-471c-a26d-20d2ac97058b",
        "responseMode": "responseNode",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        -400,
        -80
      ],
      "id": "a54be5d8-43ed-4d9f-977b-9c391ee4e247",
      "name": "Webhook",
      "webhookId": "409f7460-71e9-471c-a26d-20d2ac97058b"
    }
  ],
  "pinData": {},
  "connections": {
    "4.1": {
      "ai_languageModel": [
        [
          {
            "node": "Kairos - Shared Experience Master",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Pinecone Vector Store": {
      "ai_tool": [
        [
          {
            "node": "Kairos - Shared Experience Master",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI": {
      "ai_embedding": [
        [
          {
            "node": "Pinecone Vector Store",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Zep": {
      "ai_memory": [
        [
          {
            "node": "Kairos - Shared Experience Master",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Code": {
      "main": [
        [
          {
            "node": "Respond to Webhook1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit fields": {
      "main": [
        [
          {
            "node": "Kairos - Shared Experience Master",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Kairos - Shared Experience Master": {
      "main": [
        [
          {
            "node": "Code",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhook": {
      "main": [
        [
          {
            "node": "Edit fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1",
    "callerPolicy": "workflowsFromSameOwner",
    "errorWorkflow": "j9xKJDh5LrpbrWLV"
  },
  "versionId": "b22edad0-20a9-4813-8349-461d30a130cd",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "0aed448db8bea3d866d9d07faa7651fc87999403a92df7fc5038094cffa1e1fe"
  },
  "id": "DL37QimlkVLjttld",
  "tags": [
    {
      "updatedAt": "2025-08-19T19:03:50.989Z",
      "createdAt": "2025-08-19T19:03:50.989Z",
      "id": "mxIKbPw75Qi3GOcT",
      "name": "WH"
    }
  ]
}