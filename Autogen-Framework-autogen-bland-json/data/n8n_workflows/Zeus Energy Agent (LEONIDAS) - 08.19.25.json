{
  "name": "Zeus Energy Agent (LEONIDAS) - 08.19.25",
  "nodes": [
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4.1",
          "mode": "list",
          "cachedResultName": "gpt-4.1"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -128,
        208
      ],
      "id": "77d7be83-691c-4659-81ea-f9482ea61960",
      "name": "4.1",
      "credentials": {
        "openAiApi": {
          "id": "huH73fYuGpq0ogpt",
          "name": "OpenAi (ACTi)"
        }
      }
    },
    {
      "parameters": {
        "mode": "retrieve-as-tool",
        "toolDescription": "Work with agent to retrieve data from Database specifically about Zeus Energy",
        "pineconeIndex": {
          "__rl": true,
          "value": "250813core6plus",
          "mode": "list",
          "cachedResultName": "250813core6plus"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "typeVersion": 1.3,
      "position": [
        128,
        208
      ],
      "id": "f84e3b70-4752-4b4d-9dd6-592131d77962",
      "name": "Pinecone Vector Store",
      "credentials": {
        "pineconeApi": {
          "id": "NDhznTP0ik8daI4v",
          "name": "PineconeApi (n8nGen2)"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "typeVersion": 1.2,
      "position": [
        208,
        416
      ],
      "id": "7227c656-2043-4a5e-873c-2a7768f498bd",
      "name": "Embeddings OpenAI",
      "credentials": {
        "openAiApi": {
          "id": "huH73fYuGpq0ogpt",
          "name": "OpenAi (ACTi)"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{$json.body.question}}",
        "options": {
          "systemMessage": "You are The Voice of Zeusâ€”a voice-interactive Influence Mastery AI, designed for aspiring and established leaders, coaches, and professionals.\nYour sole purpose is to teach, model, and cultivate Zeus Energy: the unwavering, ethical certainty that anchors trust, inspires commitment, and drives decisive action.\nYou operate within the Unblinded Influence Mastery Formula, using the Four Energies (Zeus, Goddess, Aspirational, Fun) and the â€œS.M.A.L.L.E.R. Q.V.C.C.C.â€ elements as your architecture.\n\nYour agent protocol:\n\nEmbody Zeus Energy in all dialogue: calm, direct, grounded, and clear.\n\nGuide users through the Four Steps: Emotional Rapport, Truth to Pain, Heroic Unique Identity, Agreement Formation.\n\nUse provided teaching materials, roleplay scenarios, and user interaction history (retrieved via Pinecone vector search) to personalise guidance and feedback.\n\nAssess user input for mastery of Zeus Energy and offer direct, actionable feedbackâ€”always supportive, never domineering.\n\nEncourage users to practice and reflect, closing open loops and setting clear next steps.\n\nPinecone Data Protocol:\nRetrieve and reference relevant materials from the vector store to answer questions, design exercises, or simulate real-world scenarios. Always contextualize answers with Zeus Energy and Influence Mastery principles.\n\nConstraints:\n\nNever bluff, exaggerate, or â€œfakeâ€ certaintyâ€”ground all responses in the provided materials or retrieved context.\n\nNever resort to dominance or ego-driven statements. Model ethical, congruent leadership at all times.\n\nIf a user asks for guidance outside of Influence Mastery or Zeus Energy, politely redirect to core topics.\n\nSuccess outcome:\nGuide users to consistently demonstrate Zeus Energy in their leadership, decisions, and influenceâ€”measured by their clarity, decisiveness, and feedback submitted.\n\nRemember:\nYou are the living embodiment of Zeus Energy. Every answer, challenge, and encouragement should anchor the user in trust, clarity, and resolute action."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2,
      "position": [
        -80,
        -16
      ],
      "id": "38ef6a05-6894-49bd-8c01-752227c1b440",
      "name": "Zeus Agent"
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $json.sessionId }}"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryZep",
      "typeVersion": 1.3,
      "position": [
        0,
        208
      ],
      "id": "90ee99d0-eed3-4467-a07f-dddbce0473e2",
      "name": "Zep",
      "credentials": {
        "zepApi": {
          "id": "Bw2D3z6edsB6vZ2H",
          "name": "Zep (Visioneers)"
        }
      }
    },
    {
      "parameters": {
        "respondWith": "allIncomingItems",
        "options": {}
      },
      "id": "5bd6ec25-2bb6-47f9-960f-f9b2ec044a76",
      "name": "Respond to Webhook1",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.1,
      "position": [
        720,
        -16
      ]
    },
    {
      "parameters": {
        "jsCode": "// Use the existing output field from previous node\nconst rawOutput = $json.output ?? \"\";\n\n// Clean markdown and whitespace for ElevenLabs speech\nconst cleanedOutput = rawOutput\n  .replace(/[*_~`>#-]/g, \"\")     // remove markdown characters\n  .replace(/\\s+/g, \" \")          // normalize whitespace\n  .trim();\n\nreturn [\n  {\n    json: {\n      output: cleanedOutput\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        496,
        -16
      ],
      "id": "8609788f-c4f7-4e63-bdee-b255d287daaa",
      "name": "Code"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "c9437581-0f1d-4011-9d5d-49e3e8e3caba",
              "name": "sessionId",
              "value": "={{ `zeus_energy_${$now.setZone('America/New_York').toFormat('yyyy_MM_dd')}` }}",
              "type": "string"
            },
            {
              "id": "0859816f-6d83-4b3f-9475-a6bc664824d3",
              "name": "body.question",
              "value": "={{$json.body.question}}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -352,
        -16
      ],
      "id": "d0951183-1df0-424b-a7df-1a9e124dd701",
      "name": "Edit fields"
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "74fa5fd1-11f2-4bbf-9cb7-24f6ace38d0e",
        "responseMode": "responseNode",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        -576,
        -16
      ],
      "id": "dade43ea-8811-485f-b998-067bda40a8f4",
      "name": "Webhook",
      "webhookId": "74fa5fd1-11f2-4bbf-9cb7-24f6ace38d0e"
    }
  ],
  "pinData": {},
  "connections": {
    "4.1": {
      "ai_languageModel": [
        [
          {
            "node": "Zeus Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Pinecone Vector Store": {
      "ai_tool": [
        [
          {
            "node": "Zeus Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI": {
      "ai_embedding": [
        [
          {
            "node": "Pinecone Vector Store",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Zep": {
      "ai_memory": [
        [
          {
            "node": "Zeus Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Code": {
      "main": [
        [
          {
            "node": "Respond to Webhook1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit fields": {
      "main": [
        [
          {
            "node": "Zeus Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Zeus Agent": {
      "main": [
        [
          {
            "node": "Code",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhook": {
      "main": [
        [
          {
            "node": "Edit fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1",
    "callerPolicy": "workflowsFromSameOwner",
    "errorWorkflow": "j9xKJDh5LrpbrWLV"
  },
  "versionId": "ebf8b7bf-01df-45c1-b2f9-ab1851822fa4",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "0aed448db8bea3d866d9d07faa7651fc87999403a92df7fc5038094cffa1e1fe"
  },
  "id": "KDf04dO4GW6DVxM6",
  "tags": [
    {
      "updatedAt": "2025-08-19T19:03:50.989Z",
      "createdAt": "2025-08-19T19:03:50.989Z",
      "id": "mxIKbPw75Qi3GOcT",
      "name": "WH"
    }
  ]
}